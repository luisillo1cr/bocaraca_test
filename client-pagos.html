<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Realizar Pagos</title>
  <link rel="icon" href="./assets/favicon-32x32.png" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>
</head>
<body class="pagos-page">

  <!-- Botón hamburguesa / Sidebar (igual que cliente) -->
  <button id="toggleNav" class="hamburger-btn" aria-label="Abrir menú"><i class="bi bi-list"></i></button>
  <nav id="sidebar" class="sidebar">
    <ul>
      <li><a href="./profile.html"><i class="bi bi-person-circle"></i>Mi perfil</a></li>
      <li><a href="./client-dashboard.html"><i class="bi bi-calendar3"></i>Calendario</a></li>
      <li><a href="./client-pagos.html"><i class="bi bi-receipt"></i>Realizar Pagos</a></li>
      <li><a id="logoutSidebar" href="#"><i class="bi bi-box-arrow-right"></i>Cerrar sesión</a></li>
    </ul>
  </nav>

  <main class="container">
    <section class="pay-card">
      <header class="pay-hero">
        <div class="icon"><i class="bi bi-receipt"></i></div>
        <h1>Enviar comprobante</h1>
        <p id="sessionEmail" class="session">Sesión: —</p>
      </header>

      <form id="payForm" class="pay-form" novalidate>
        <div class="field">
          <label for="pfName">Nombre</label>
          <input id="pfName" type="text" autocomplete="name" placeholder="Tu nombre" required>
        </div>

        <div class="field">
          <label for="pfCedula">Cédula</label>
          <input id="pfCedula" type="text" placeholder="Tu cédula" required>
        </div>

        <div class="field">
          <label for="payMethod">Método de pago</label>
          <select id="payMethod" required>
            <option value="" selected>— Selecciona —</option>
            <option value="Sinpe Móvil">SINPE Móvil</option>
            <option value="Transferencia">Transferencia bancaria</option>
            <option value="Efectivo">Efectivo</option>
          </select>
        </div>

        <div class="field">
          <label for="payAmount">Monto exacto pagado (₡ o $)</label>
          <input id="payAmount" type="number" inputmode="numeric" min="0" step="1" placeholder="Ej: 20000" required>
        </div>

        <div class="field">
          <label for="payMonth">Mes que estás pagando</label>
          <input id="payMonth" type="month" required>
        </div>

        <div class="field">
          <label for="payCode">Código de transacción (opcional)</label>
          <input id="payCode" type="text" placeholder="Ej: TRX123456">
        </div>

        <div class="field">
          <label>Comprobante (imagen)</label>
          <div id="drop" class="drop">Arrastra una imagen o toca para seleccionar</div>
            <div id="previewWrap" class="preview" hidden>
                <img id="previewImg" alt="">
            </div>
          <input id="payFile" type="file" accept="image/*" hidden required>
          <small id="fileName" class="text-muted"></small>
        </div>

        <div class="pay-actions">
          <button id="sendBtn" class="btn">Enviar a WhatsApp</button>
        </div>

        <div id="payStatus" class="pay-status">
          <span class="dot"></span>
          <span>Subiendo comprobante…</span>
        </div>
      </form>
    </section>

    <footer class="footer" style="text-align:center;color:#8b949e;margin-top:14px;">
      © 2025 <a href="https://github.com/luisillo1cr" target="_blank">luisillo1cr</a>. Todos los derechos reservados.
    </footer>
  </main>

  <script type="module" src="./js/client-pagos.js"></script>
  <script type="module" src="./js/sw-register.js"></script>
</body>
</html>
