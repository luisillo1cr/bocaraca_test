<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mi perfil</title>

  <link rel="icon" href="./assets/favicon-32x32.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body class="profile-page">

  <!-- Botón hamburguesa -->
  <button id="toggleNav" class="hamburger-btn" aria-label="Abrir menú">
    <i class="bi bi-list"></i>
  </button>

  <!-- Sidebar -->
  <nav id="sidebar" class="sidebar">
    <ul>
      <li><a href="./profile.html"><i class="bi bi-person-circle"></i>Mi perfil</a></li>
      <li><a href="./client-dashboard.html"><i class="bi bi-calendar3"></i>Calendario</a></li>
      <li><a href="./client-pagos.html"><i class="bi bi-receipt"></i>Realizar Pagos</a></li>
      <li><a id="logoutSidebar" href="#"><i class="bi bi-box-arrow-right"></i> Cerrar sesión</a></li>
    </ul>
  </nav>

  <main class="profile-shell">
    <section class="card profile-card">

      <!-- Skeleton (se oculta al cargar) -->
      <div id="pfSkeleton" class="pf-skeleton">
        <div class="sk sk-avatar"></div>
        <div class="sk sk-title"></div>
        <div class="sk sk-subtitle"></div>
        <div class="sk sk-badges"></div>
        <div class="sk sk-cta"></div>
        <div class="sk sk-stat"></div>
        <div class="sk sk-stat"></div>
        <div class="sk sk-stat"></div>
        <div class="sk sk-row"></div>
        <div class="sk sk-row"></div>
      </div>

      <!-- Tarjeta real -->
      <div id="pfCard" class="pf-card hidden">
        <div class="profile-hero">
          <div class="hero-top">
          </div>

          <div id="pfAvatar" class="avatar">
            <i class="bi bi-person"></i>
          </div>

          <h2 id="pfDisplay" class="hero-name">—</h2>
          <p id="pfEmail" class="hero-sub">—</p>

          <div class="badge-row">
            <span id="pfPlan"   class="tag info">General</span>
            <span id="pfStatus" class="tag success">Activa</span>
          </div>

          <div class="cta-row">
            <button id="pfEdit" class="btn btn-cta" type="button">Editar perfil</button>
          </div>

          <div class="hero-stats">
            <div class="stat">
              <div class="stat-icon ig"><i class="bi bi-bookmark-star"></i></div>
              <div class="stat-label">Membresía</div>
              <div class="stat-value" id="pfMembresia">—</div>
            </div>
            <div class="stat">
              <div class="stat-icon tg"><i class="bi bi-shield-check"></i></div>
              <div class="stat-label">Estado</div>
              <div class="stat-value" id="pfEstado">—</div>
            </div>
            <div class="stat">
              <div class="stat-icon dr"><i class="bi bi-calendar-event"></i></div>
              <div class="stat-label">Expira</div>
              <div class="stat-value" id="pfExpira">—</div>
            </div>
          </div>
        </div>

        <!-- Detalle -->
        <div class="profile-info">
          <div class="info-row"><div class="label">Nombre</div>     <div class="value" id="pfNombre">—</div></div>
          <div class="info-row"><div class="label">Apellidos</div>  <div class="value" id="pfApellidos">—</div></div>
          <div class="info-row"><div class="label">Correo</div>     <div class="value" id="pfCorreo">—</div></div>
          <div class="info-row"><div class="label">Cédula</div>     <div class="value" id="pfCedula">—</div></div>
          <div class="info-row"><div class="label">Género</div>     <div class="value" id="pfGenero">—</div></div>
          <div class="info-row"><div class="label">Nacimiento</div> <div class="value" id="pfNacimiento">—</div></div>
        </div>

        <!-- Form edición (sin cédula) -->
        <form id="editForm" class="edit-form" hidden>
          <div class="ef-grid">
            <label for="efNombre">Nombre</label>
            <input id="efNombre" type="text" autocomplete="given-name" placeholder="Tu nombre"/>

            <label for="efApellidos">Apellidos</label>
            <input id="efApellidos" type="text" autocomplete="family-name" placeholder="Tus apellidos"/>

            <label for="efGenero">Género</label>
            <select id="efGenero">
              <option value="">— Selecciona —</option>
              <option value="masculino">Masculino</option>
              <option value="femenino">Femenino</option>
              <option value="no_binario">No binario</option>
              <option value="prefiero_no_decir">Prefiero no decir</option>
              <option value="otro">Otro</option>
            </select>

            <label for="efNacimiento">Fecha de nacimiento</label>
            <input id="efNacimiento" type="date" />
          </div>

          <div class="ef-actions">
            <button id="efCancel" type="button" class="btn outline">Cancelar</button>
            <button type="submit" class="btn">Guardar</button>
          </div>
        </form>
      </div>
    </section>

    <footer class="footer muted centered">
      © 2025 <a href="https://github.com/luisillo1cr" target="_blank">luisillo1cr</a>. Todos los derechos reservados.
    </footer>
  </main>

  <script type="module" src="./js/firebase-config.js"></script>
  <script type="module" src="./js/showAlert.js"></script>
  <script type="module" src="./js/profile.js"></script>
  <script type="module" src="./js/sw-register.js"></script>
</body>
</html>
