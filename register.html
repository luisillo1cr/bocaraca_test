<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Crear cuenta</title>

  <link rel="icon" href="./assets/favicon-32x32.png">
  <link rel="stylesheet" href="./css/style.css"/>
</head>

<body class="auth-center page-register">
  <main class="reg-page">
    <section class="reg-card">
      <div class="reg-head">
        <img class="reg-logo" src="./assets/android-chrome-512x512.png" alt="Bocaraca MMA">
        <h1>Crear cuenta</h1>
        <p class="reg-subtitle">Únete y gestiona tus clases desde tu móvil</p>
      </div>

      <form id="registerForm" class="reg-form" novalidate>
        <!-- Nombre y Apellidos -->
        <div class="reg-row-2">
          <div>
            <label for="nombre">Nombre</label>
            <input id="nombre" type="text" autocomplete="given-name" placeholder="Tu nombre">
          </div>
          <div>
            <label for="apellidos">Apellidos</label>
            <input id="apellidos" type="text" autocomplete="family-name" placeholder="Tus apellidos">
          </div>
        </div>

        <!-- Tipo de documento -->
        <div class="reg-row-2">
          <div>
            <label for="cedulaTipo">Tipo de identificación</label>
            <select id="cedulaTipo">
              <option value="nacional" selected>Cédula nacional (CR)</option>
              <option value="extranjera">Documento extranjero</option>
            </select>
          </div>
          <div></div>
        </div>

        <!-- Cédula CR -->
        <div id="wrapCedulaCR">
          <label for="cedula">Cédula (9 dígitos)</label>
          <input id="cedula" type="tel" inputmode="numeric" placeholder="#0###0### (solo números)">
          <div class="hint">Se usará para evitar duplicados.</div>
        </div>

        <!-- Documento extranjero -->
        <div id="wrapCedulaExt" class="hidden" aria-hidden="true">
          <label for="cedulaExtranjera">Documento extranjero</label>
          <input id="cedulaExtranjera" type="text" placeholder="Ej: A123-XYZ-987">
          <div class="hint">6–20 caracteres (letras, números y guiones).</div>
        </div>

        <!-- Celular -->
        <div>
          <label for="phone">Celular</label>
          <input id="phone" type="tel" inputmode="numeric" placeholder="######## (8 dígitos)">
        </div>

        <!-- Correo: input group (usuario + dominio) -->
        <div>
          <label for="emailLocal">Correo</label>
          <div class="email-group" role="group" aria-label="Correo electrónico">
            <input id="emailLocal" type="text" placeholder="tu.usuario" autocomplete="off">
            <button type="button" id="emailDomainBtn" class="email-addon" aria-haspopup="listbox" aria-expanded="false">
              <span class="at">@</span><span id="emailDomainText">gmail.com</span>
              <span class="chev">▾</span>
            </button>

            <!-- menú de dominios -->
            <ul id="emailMenu" class="email-menu" role="listbox" hidden>
              <li class="item" data-domain="gmail.com">@gmail.com</li>
              <li class="item" data-domain="gmail.es">@gmail.es</li>
              <li class="item" data-domain="hotmail.com">@hotmail.com</li>
              <li class="item" data-domain="hotmail.es">@hotmail.es</li>
              <li class="item" data-domain="outlook.com">@outlook.com</li>
              <li class="item" data-domain="outlook.es">@outlook.es</li>
              <li class="item" data-domain="yahoo.com">@yahoo.com</li>
              <li class="item" data-domain="icloud.com">@icloud.com</li>
              <li class="item" data-domain="proton.me">@proton.me</li>
              <li class="item" data-domain="live.com">@live.com</li>
            </ul>
          </div>
          <!-- valor compuesto (lo rellena register.js) -->
          <input type="hidden" id="emailFull">
          <div class="hint">Escribe solo la parte antes de @ y elige el dominio.</div>
        </div>

        <!-- Contraseña -->
        <div>
          <label for="password">Contraseña</label>
          <input id="password" type="password" autocomplete="new-password" placeholder="Mínimo 8 caracteres">
        </div>

        <!-- Género y nacimiento -->
        <div class="reg-row-2">
          <div>
            <label for="genero">Género</label>
            <select id="genero">
              <option value="no_especificado" selected>Prefiero no decir</option>
              <option value="masculino">Masculino</option>
              <option value="femenino">Femenino</option>
              <option value="no_binario">No binario</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div>
            <label for="birthDate">Fecha de nacimiento</label>
            <input id="birthDate" type="date">
          </div>
        </div>

        <div class="reg-actions">
          <button type="submit" class="btn primary">Crear cuenta</button>
          <a class="btn outline" href="./index.html">Cancelar</a>
        </div>

        <p class="hint t-center">Al registrarte aceptas nuestros términos y políticas.</p>
      </form>
    </section>
  </main>

  <!-- Firebase + App -->
  <script type="module" src="./js/firebase-config.js"></script>
  <script type="module" src="./js/register.js"></script>
  <script type="module" src="./js/sw-register.js"></script>

</body>
</html>
